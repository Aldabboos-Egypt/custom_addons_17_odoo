<!-- reports/purchase_report.xml -->

<odoo>
    <template id="report_purchaseorder_document_dusal" inherit_id="purchase.report_purchaseorder_document">
        <xpath expr="//th[@name='th_description']" position="before">
                        <t t-set="number" t-value="0"/>

            <th t-if="o.print_line_number" style="width: 1%">
                <strong>No.</strong>
            </th>
            <th t-if="o.print_product_image" style="width: 1%">
                <strong>Image</strong>
            </th>
        </xpath>
        <xpath expr="//td[@id='product']" position="before">
            <td t-if="o.print_line_number">
                <t t-set="number" t-value="number+1"/>
                <span t-esc="number"/>
            </td>
            <td t-if="o.print_product_image">
                <span t-if="o.image_size == 'small'">
                    <img t-attf-src="data:image/png;base64,{{line.product_image_small.decode('utf-8')}}"
                         style="width: unset; max-width: 100%;"/>
                </span>
                <span t-if="o.image_size == 'medium'">
                   <img t-attf-src="data:image/png;base64,{{line.product_image_small.decode('utf-8')}}"
                         style="width: unset; max-width:200%;"/>
                </span>
                <span t-if="o.image_size == 'big'">
                      <img t-attf-src="data:image/png;base64,{{line.product_image_small.decode('utf-8')}}"
                         style="width: unset; max-width: 400%;"/>
                </span>
            </td>
        </xpath>
    </template>
</odoo>
